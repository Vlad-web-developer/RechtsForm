

:root {
	--glass-bg: rgba(255, 255, 255, 0.75);
	--glass-border: rgba(255, 255, 255, 0.4);
	--glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
	--primary-gradient: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
	--success-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
	--glow-color: rgba(59, 130, 246, 0.6);
	--active-node-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
	--step-circle-size: 28px;
	--step-circle-font: 0.7rem;
	--track-bg: rgba(0, 0, 0, 0.1);
}

[data-theme='dark'] {
	--glass-bg: rgba(15, 23, 42, 0.85);
	--glass-border: rgba(255, 255, 255, 0.1);
	--glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
	--glow-color: rgba(96, 165, 250, 0.5);
	--active-node-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
	--track-bg: rgba(255, 255, 255, 0.15);
}

.progress-bar-container {
	width: 100%;
	margin: 20px auto 40px auto;
	display: flex;
	justify-content: center;
	font-family:
		'Inter',
		system-ui,
		-apple-system,
		sans-serif;
	position: relative;
	z-index: 10;
}

.mobile-progress-card {
	display: flex; 
	flex-direction: column;
	width: 100%;
	max-width: 400px; 
	padding: 16px;
	background: var(--glass-bg);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	border: 1px solid var(--glass-border);
	border-radius: 16px;
	box-shadow: var(--glass-shadow);
	margin: 0 16px;
}

.mobile-header {
	display: flex;
	align-items: center;
	margin-bottom: 12px;
}

.mobile-step-badge {
	background: var(--primary-gradient);
	color: white;
	padding: 4px 10px;
	border-radius: 20px;
	font-size: 0.75rem;
	font-weight: 700;
	margin-right: 12px;
	box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
}

.mobile-title-col {
	display: flex;
	flex-direction: column;
}

.mobile-step-label {
	font-size: 0.7rem;
	text-transform: uppercase;
	letter-spacing: 1px;
	color: var(--text-secondary);
	opacity: 0.8;
	margin-bottom: 2px;
}

.mobile-step-name {
	font-size: 1rem;
	font-weight: 600;
	color: var(--text-primary);
}

.mobile-track-bg {
	width: 100%;
	height: 8px;
	background-color: var(--card-border, #e2e8f0);
	border-radius: 999px;
	overflow: hidden;
	position: relative;
	box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.mobile-track-fill {
	height: 100%;
	background: var(--primary-gradient);
	border-radius: 999px;
	box-shadow: 0 0 15px var(--glow-color);
}


.desktop-glass-panel {
	display: none; 
	position: relative;
	height: 90px; 
	width: 95%; 
	
	max-width: 600px;
	margin: 0 auto;

	background: var(--glass-bg);
	backdrop-filter: blur(20px);
	-webkit-backdrop-filter: blur(20px);
	border: 1px solid var(--glass-border);
	border-radius: 24px;
	box-shadow: var(--glass-shadow);

	
	align-items: center;
	justify-content: center;
	
	padding: 0 20px;
}


.desktop-track-container {
	position: relative;
	width: 90%;
	max-width: 540px;
	height: 100%;
}


.desktop-track-bg {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	height: 8px;
	background-color: var(--track-bg); 
	transform: translateY(-50%);
	border-radius: 8px;
	z-index: 0;
	box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}


.desktop-track-fill {
	position: absolute;
	top: 50%;
	left: 0;
	height: 8px;

	
	background-image: linear-gradient(
		45deg,
		rgba(255, 255, 255, 0.15) 25%,
		transparent 25%,
		transparent 50%,
		rgba(255, 255, 255, 0.15) 50%,
		rgba(255, 255, 255, 0.15) 75%,
		transparent 75%,
		transparent
	);
	background-color: #3b82f6;
	background:
		linear-gradient(90deg, #3b82f6, #2563eb),
		linear-gradient(
			45deg,
			rgba(255, 255, 255, 0.2) 25%,
			transparent 25%,
			transparent 50%,
			rgba(255, 255, 255, 0.2) 50%,
			rgba(255, 255, 255, 0.2) 75%,
			transparent 75%,
			transparent
		);
	background-size:
		100% 100%,
		20px 20px;

	transform: translateY(-50%);
	border-radius: 8px;
	z-index: 1;
	overflow: hidden;
	max-width: 100%;

	box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
	animation: moveStripes 1s linear infinite;
}

@keyframes moveStripes {
	0% {
		background-position:
			0 0,
			0 0;
	}
	100% {
		background-position:
			0 0,
			20px 0;
	}
}


.track-glow {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		90deg,
		transparent,
		rgba(255, 255, 255, 0.6),
		transparent
	);
	animation: shimmer 3s infinite ease-in-out;
}

@keyframes shimmer {
	0% {
		transform: skewX(-20deg) translateX(-150%);
	}
	100% {
		transform: skewX(-20deg) translateX(250%);
	}
}


.desktop-steps-layer {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 100%;
	pointer-events: none;
}


.step-node-container {
	position: absolute;
	top: 50%;
	transform: translate(-50%, -50%);
	display: flex;
	flex-direction: column;
	align-items: center;
	pointer-events: auto;
	cursor: default;
	z-index: 5;

	will-change: transform;
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform-style: preserve-3d;
}

.step-node-container.completed {
	cursor: pointer;
}


.step-circle {
	width: var(--step-circle-size);
	height: var(--step-circle-size);
	border-radius: 50%;
	background-color: var(--card-bg, #ffffff);
	border: 2px solid var(--text-secondary);
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: 700;
	font-size: var(--step-circle-font);
	color: var(--text-secondary);
	position: relative;
	z-index: 2;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
	transition: box-shadow 0.3s ease;
	transform: translateZ(1px);
}


.step-node-container.active .step-circle {
	box-shadow: var(--active-node-shadow);
	border-color: transparent;
}


.active-pulse-ring {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 34px; 
	height: 34px; 
	border-radius: 50%;
	border: 2px solid var(--accent-color, #3b82f6);
	z-index: 1;
	pointer-events: none;
	
}


.step-tooltip {
	position: absolute;
	top: -46px;
	background: rgba(15, 23, 42, 0.95);
	backdrop-filter: blur(4px);
	color: #fff;
	padding: 6px 12px;
	border-radius: 8px;
	font-size: 0.75rem;
	font-weight: 600;
	white-space: nowrap;
	opacity: 0;
	transform: translateY(10px) scale(0.9);
	transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	pointer-events: none;
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
}

.step-tooltip::after {
	content: '';
	position: absolute;
	top: 100%;
	left: 50%;
	margin-left: -5px;
	border-width: 5px;
	border-style: solid;
	border-color: rgba(15, 23, 42, 0.95) transparent transparent transparent;
}

.step-tooltip.visible {
	opacity: 1;
	transform: translateY(-5px) scale(1);
	background: var(--accent-color, #3b82f6);
}
.step-tooltip.visible::after {
	border-color: var(--accent-color, #3b82f6) transparent transparent transparent;
}

.step-node-container:hover .step-tooltip {
	opacity: 1;
	transform: translateY(0) scale(1);
}


@media (min-width: 600px) {
	.mobile-progress-card {
		display: none;
	}
	.desktop-glass-panel {
		display: flex;
		padding: 0 20px; 
	}
}
